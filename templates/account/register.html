{% extends "base/base.html"%}
{% block start %}
{%load static%}
<section class="section-content padding-y" style="min-height:84vh">

    <!-- ============================ COMPONENT LOGIN ================================= -->
    <div class="card mx-auto" style="max-width: 500px;">
        <div class="card-body">
            <h4 class="text-center card-title mb-1">Sign Up</h4>
            <hr>
            <form method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              {% include 'base/alert.html' %}
                <div class="form-group text-center">
                    <label for="profile_picture">
                        <img src="{% static 'profile-default.png' %}" id="profilePreview" class="rounded-circle" style="width: 100px; height: 100px; cursor: pointer;" alt="Profile Picture">
                    </label>
                    <input type="file" id="profile_picture" name="profile_picture" class="d-none" accept="image/*" onchange="previewProfilePicture(event)">
                </div>
                <div class="form-group">
                    <input name="first_name" class="form-control" required placeholder="First Name" type="text">
                </div>
                <div class="form-group">
                    <input name="last_name" class="form-control" required placeholder="Last Name" type="text">
                </div>
                <div class="form-group">
                    <input name="username" class="form-control" required placeholder="Username" type="text">
                </div>
                <div class="form-group">
                    <input name="email" class="form-control" required placeholder="Email" type="email">
                </div>
                
                <div class="form-row mb-3">
                  <div class="col">
                    <input name="password" class="form-control" required placeholder="Password" type="password">
                  </div>
                  <div class="col">
                    <input name="confirm_password" class="form-control" required placeholder="Confirm Password" type="password">
                  </div>
                </div>

                <div class="form-group">
                  <input name="address" class="form-control" required placeholder="Address" type="text">
                </div>

              <div class="form-row mb-3">
                <div class="col">
                    <input name="state" class="form-control" required placeholder="State" type="text">
                </div>
                <div class="col">
                    <input name="city" class="form-control" required placeholder="City" type="text">
                </div>
                <div class="col">
                    <input name="pincode" class="form-control" required placeholder="Pincode" type="text">
                </div>
            </div>

                <div class="form-group">
                    <div class="mt-1">
                        <label class="custom-control custom-radio custom-control-inline">
                            <input type="radio" name="select_role" value="patient" class="custom-control-input" required>
                            <div class="custom-control-label">Patient</div>
                        </label>
                        <label class="custom-control custom-radio custom-control-inline">
                            <input type="radio" name="select_role" value="doctor" class="custom-control-input" required>
                            <div class="custom-control-label">Doctor</div>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block">Register</button>
                </div>
            </form>
        </div>
    </div>
    <p class="text-center mt-4">Already have an account? <a href='{% url "login_page" %}'>Sign in</a></p>
    <br><br>
    <!-- ============================ COMPONENT LOGIN END.// ================================= -->
</section>

<script>
    function previewProfilePicture(event) {
        var reader = new FileReader();
        reader.onload = function(){
            var output = document.getElementById('profilePreview');
            output.src = reader.result;
        };
        reader.readAsDataURL(event.target.files[0]);
    }
</script>
{% endblock %}